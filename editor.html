<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Timestamps App</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <div class="video-container">
            <video id="video" controls>
                <source src="video.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div id="currentTimeDisplay">00:00</div>
            <button id="changeVidBtn">Load Video</button>

            <!-- change video when changeVidBtn is pressed -->
            <script>
                const changeVidBtn = document.getElementById('changeVidBtn');
                const videoElement = document.getElementById('video');

                changeVidBtn.addEventListener('click', () => {
                    // open file dialog
                    const loadFile = document.getElementById('loadFile');
                });

                // Get references to the video element and the div to display time
                const currentTimeDisplay = document.getElementById('currentTimeDisplay');

                // Update the div content with the current video time
                function updateCurrentTime() {
                    const currentTime = videoElement.currentTime;
                    const minutes = Math.floor(currentTime / 60);
                    const seconds = Math.floor(currentTime % 60);
                    const formattedTime = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                    currentTimeDisplay.textContent = formattedTime;
                }

                // Update the current time when the video is playing or seeking
                videoElement.addEventListener('timeupdate', updateCurrentTime);

                // Also, update the time once on page load (optional)
                updateCurrentTime();
            </script>

        </div>
        <div class="content-container">
            <div class="timestamps-container" id="timestampsContainer"></div>
            <div class="toolbar">
                
                <div class="save_load">
                    <button id="saveBtn">Save Timecodes</button>
                    <input type="file" id="loadFile" style="display: none;">
                    <label for="loadFile"><button id="loadBtn">Load Timecodes</button></label>
                </div>
                <div class="quick_actions">
                    Quick Actions:
                    <div>
                        <button id="addTimestampBtn">Add Custom Timestamp</button>
                    </div>
                    <div class="LEDs">
                        <button id="btnLEDsOff">Turn all LEDs off</button>
                        <button id="btnLEDsRed">LEDs red</button>
                        <button id="btnLEDsBlue">LEDs blue</button>
                    </div>
                    <div class="room_lights">
                        <button id="btnRoomLightsOff">Turn room lights off</button>
                        <button id="btnRoomLightsOn">Turn room lights on</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="editor.js"></script>
</body>

</html>